(this.webpackJsonpstar_wars=this.webpackJsonpstar_wars||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(35),n=a.n(c),s=(a(102),a(10)),i=a(25),o=a(87),u=a.n(o),l=a(34),h=a(8),j=a.n(h),b=a(17),d=a(33),f=a(70),p=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://swapi.dev/api/").concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("people/?page=1").then((function(e){return e}));case 2:t=e.sent,a=Object(f.a)(t.results);case 4:if(null===t.next){e.next=12;break}return r=t.next.slice(21),e.next=8,p(r).then((function(e){return e}));case 8:t=e.sent,a=[].concat(Object(f.a)(a),Object(f.a)(t.results)),e.next=4;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(a(104),a(2)),v=function(e){var t=e.selectedCharacter,a=e.clearSelectCharacter,c=e.correctedUrl,n=Object(r.useState)([]),s=Object(d.a)(n,2),o=s[0],u=s[1],h=function(){var e=Object(b.a)(j.a.mark((function e(){var a,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.films.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(c(t));case 2:return a=e.sent,e.abrupt("return",Object(l.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,e.next=5,Promise.all(t.vehicles.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(c(t));case 2:return a=e.sent,e.abrupt("return",Object(l.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:r=e.sent,n=Object(l.a)(Object(l.a)({},t),{},{films:a,vehicles:r}),u(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){""!==t&&h()}),[t]),Object(m.jsxs)("div",{className:"DetailsCharacters",children:[Object(m.jsx)("h2",{children:"Details:"}),Object(m.jsx)(i.b,{className:"btn btn__close",type:"button",onClick:a,to:"/star_wars/characters",children:"X"}),o!==[]&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Name: ".concat(t.name)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Height: ".concat(t.height)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Mass: ".concat(t.mass)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Hair color: ".concat(t.hair_color)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Skin color: ".concat(t.skin_color)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Eye color: ".concat(t.eye_color)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Birth year: ".concat(t.birth_year)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Gender: ".concat(t.gender)}),Object(m.jsx)("div",{className:"DetailsCharacters__info",children:"Home World: ".concat(t.homeworld.name)}),Object(m.jsxs)("div",{className:"DetailsCharacters__info",children:["Films: ",o.films?o.films.map((function(e){return Object(m.jsx)("div",{children:"".concat(e.title)},e.title)})):Object(m.jsx)("div",{children:"Loading"})]}),Object(m.jsxs)("div",{className:"DetailsCharacters__info",children:[t.vehicles.length>0&&Object(m.jsx)("span",{children:"Vehicles:"}),o.vehicles?o.vehicles.map((function(e){return Object(m.jsx)("div",{children:"".concat(e.name," - ").concat(e.model)},e.name)})):Object(m.jsx)("span",{children:"Loading"})]})]})]})},_=a(131),w=a(129),N=a(128),C=a(130),g=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(_.a,{children:[Object(m.jsx)(w.a,{active:!0,children:Object(m.jsx)(N.a,{children:"Loading"})}),Object(m.jsx)(C.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]})})},k=(a(112),a(113),function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(""),o=Object(d.a)(n,2),u=o[0],h=o[1],f=Object(r.useState)(""),p=Object(d.a)(f,2),_=p[0],w=p[1],N=Object(r.useState)([]),C=Object(d.a)(N,2),k=C[0],y=C[1],D=Object(r.useState)(!1),S=Object(d.a)(D,2),L=S[0],E=S[1],B=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,x();case 3:t=e.sent,c(t),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){return e.replace("http","https")},H=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Promise.all(a.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(F(t.homeworld));case 2:return a=e.sent,e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{homeworld:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,y(t),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){B()}),[]),Object(r.useEffect)((function(){H()}),[a]),Object(m.jsxs)("div",{className:"CharactersList",children:[Object(m.jsx)("input",{type:"text",className:"search",placeholder:"Input character name",value:u,onChange:function(e){var t=e.target;return h(t.value)}}),Object(m.jsx)("h2",{className:"CharactersList__title",children:"Characters:"}),L?Object(m.jsx)(g,{}):Object(m.jsx)("ul",{className:"CharactersList__list",children:k.filter((function(e){return e.name.includes(u)})).map((function(e){var t=e.name,a=e.gender,r=e.homeworld,c=e.url;return Object(m.jsxs)("li",{className:"CharactersList__item",children:[Object(m.jsx)("div",{children:"Name: ".concat(t)}),Object(m.jsx)("div",{children:"Gender: ".concat(a)}),Object(m.jsx)("div",{children:"Home World: ".concat(r.name)}),Object(m.jsx)(i.b,{className:"btn",to:"/star_wars/characters/".concat(t),name:t,onClick:function(e){var t=e.target;w(t.name)},children:"Show Details"})]},c)}))}),Object(m.jsx)(s.a,{path:"/star_wars/characters/".concat(_),children:_&&Object(m.jsx)(v,{selectedCharacter:k.find((function(e){return e.name===_})),clearSelectCharacter:function(){return w({})},correctedUrl:F})})]})}),y=(a(114),function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsxs)(s.a,{path:"/star_wars/home",children:[Object(m.jsx)(i.b,{className:"btn",onClick:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&FB.logout((function(e){console.log("bye"),location.href="/star_wars"}))}))},children:"Log out"}),Object(m.jsx)("h1",{className:"main_title",children:"Star Wars"}),Object(m.jsx)("nav",{className:"menu",children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/star_wars/characters",className:"btn",children:"Characters"})})})})]}),Object(m.jsx)(s.a,{path:"/star_wars/characters",children:Object(m.jsx)(k,{})}),Object(m.jsx)(s.a,{path:"/star_wars",exact:!0,children:Object(m.jsx)(u.a,{appId:"856885485186770",autoLoad:!0,fields:"name,email,picture",callback:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&(location.href="/star_wars/home")}))}})})]})})});n.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.072ebca0.chunk.js.map