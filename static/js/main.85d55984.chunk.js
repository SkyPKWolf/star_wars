(this.webpackJsonpstar_wars=this.webpackJsonpstar_wars||[]).push([[0],{102:function(e,t,c){},104:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(35),r=c.n(n),s=(c(102),c(10)),i=c(25),o=c(87),u=c.n(o),l=c(34),h=c(8),j=c.n(h),b=c(17),d=c(33),f=c(70),p=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://swapi.dev/api/").concat(t));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("".concat(c.status," - ").concat(c.statusText));case 5:return e.next=7,c.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("".concat(c.status," - ").concat(c.statusText));case 5:return e.next=7,c.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("people/?page=1").then((function(e){return e}));case 2:t=e.sent,c=Object(f.a)(t.results);case 4:if(null===t.next){e.next=12;break}return a=t.next.slice(21),e.next=8,p(a).then((function(e){return e}));case 8:t=e.sent,c=[].concat(Object(f.a)(c),Object(f.a)(t.results)),e.next=4;break;case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(c(104),c(2)),v=function(e){var t=e.selectedCharacter,c=e.clearSelectCharacter,n=e.correctedUrl,r=Object(a.useState)([]),s=Object(d.a)(r,2),o=s[0],u=s[1],h=function(){var e=Object(b.a)(j.a.mark((function e(){var c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.films.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n(t));case 2:return c=e.sent,e.abrupt("return",Object(l.a)({},c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return c=e.sent,e.next=5,Promise.all(t.vehicles.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n(t));case 2:return c=e.sent,e.abrupt("return",Object(l.a)({},c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=e.sent,r=Object(l.a)(Object(l.a)({},t),{},{films:c,vehicles:a}),u(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){""!==t&&h()}),[t]),Object(x.jsxs)("div",{className:"DetailsCharacters",children:[Object(x.jsx)("h2",{children:"Details:"}),Object(x.jsx)(i.b,{className:"btn btn__close",type:"button",onClick:c,to:"/characters",children:"X"}),o!==[]&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Name: ".concat(t.name)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Height: ".concat(t.height)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Mass: ".concat(t.mass)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Hair color: ".concat(t.hair_color)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Skin color: ".concat(t.skin_color)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Eye color: ".concat(t.eye_color)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Birth year: ".concat(t.birth_year)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Gender: ".concat(t.gender)}),Object(x.jsx)("div",{className:"DetailsCharacters__info",children:"Home World: ".concat(t.homeworld.name)}),Object(x.jsxs)("div",{className:"DetailsCharacters__info",children:["Films: ",o.films?o.films.map((function(e){return Object(x.jsx)("div",{children:"".concat(e.title)},e.title)})):Object(x.jsx)("div",{children:"Loading"})]}),Object(x.jsxs)("div",{className:"DetailsCharacters__info",children:[t.vehicles.length>0&&Object(x.jsx)("span",{children:"Vehicles:"}),o.vehicles?o.vehicles.map((function(e){return Object(x.jsx)("div",{children:"".concat(e.name," - ").concat(e.model)},e.name)})):Object(x.jsx)("span",{children:"Loading"})]})]})]})},_=c(131),w=c(129),N=c(128),C=c(130),g=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(_.a,{children:[Object(x.jsx)(w.a,{active:!0,children:Object(x.jsx)(N.a,{children:"Loading"})}),Object(x.jsx)(C.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]})})},k=(c(112),c(113),function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),u=o[0],h=o[1],f=Object(a.useState)(""),p=Object(d.a)(f,2),_=p[0],w=p[1],N=Object(a.useState)([]),C=Object(d.a)(N,2),k=C[0],y=C[1],D=Object(a.useState)(!1),S=Object(d.a)(D,2),L=S[0],E=S[1],B=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,m();case 3:t=e.sent,n(t),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){return e.replace("http","https")},H=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Promise.all(c.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(F(t.homeworld));case 2:return c=e.sent,e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{homeworld:c}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,y(t),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){B()}),[]),Object(a.useEffect)((function(){H()}),[c]),Object(x.jsxs)("div",{className:"CharactersList",children:[Object(x.jsx)("input",{type:"text",className:"search",placeholder:"Input character name",value:u,onChange:function(e){var t=e.target;return h(t.value)}}),Object(x.jsx)("h2",{className:"CharactersList__title",children:"Characters:"}),L?Object(x.jsx)(g,{}):Object(x.jsx)("ul",{className:"CharactersList__list",children:k.filter((function(e){return e.name.includes(u)})).map((function(e){var t=e.name,c=e.gender,a=e.homeworld,n=e.url;return Object(x.jsxs)("li",{className:"CharactersList__item",children:[Object(x.jsx)("div",{children:"Name: ".concat(t)}),Object(x.jsx)("div",{children:"Gender: ".concat(c)}),Object(x.jsx)("div",{children:"Home World: ".concat(a.name)}),Object(x.jsx)(i.b,{className:"btn",to:"/characters/".concat(t),name:t,onClick:function(e){var t=e.target;w(t.name)},children:"Show Details"})]},n)}))}),Object(x.jsx)(s.a,{path:"/characters/".concat(_),children:_&&Object(x.jsx)(v,{selectedCharacter:k.find((function(e){return e.name===_})),clearSelectCharacter:function(){return w({})},correctedUrl:F})})]})}),y=(c(114),function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsxs)(s.a,{path:"/home",children:[Object(x.jsx)(i.b,{className:"btn",onClick:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&FB.logout((function(e){console.log("bye"),location.href="/star_wars"}))}))},children:"Log out"}),Object(x.jsx)("h1",{className:"main_title",children:"Star Wars"}),Object(x.jsx)("nav",{className:"menu",children:Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/characters",className:"btn",children:"Characters"})})})})]}),Object(x.jsx)(s.a,{path:"/characters",children:Object(x.jsx)(k,{})}),Object(x.jsx)(s.a,{path:"/",exact:!0,children:Object(x.jsx)(u.a,{appId:"856885485186770",autoLoad:!0,fields:"name,email,picture",callback:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&(location.href="/star_wars/#/home/")}))}})})]})})});r.a.render(Object(x.jsx)(i.a,{basename:"/star_wars",children:Object(x.jsx)(y,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.85d55984.chunk.js.map