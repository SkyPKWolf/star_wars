(this.webpackJsonpstar_wars=this.webpackJsonpstar_wars||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(34),r=a.n(n),s=(a(102),a(10)),i=a(27),o=a(87),u=a.n(o),l=a(33),h=a(9),j=a.n(h),b=a(17),d=a(37),f=a(70),p=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://swapi.dev/api/").concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("people/?page=1").then((function(e){return e}));case 2:t=e.sent,a=Object(f.a)(t.results);case 4:if(null===t.next){e.next=12;break}return c=t.next.slice(21),e.next=8,p(c).then((function(e){return e}));case 8:t=e.sent,a=[].concat(Object(f.a)(a),Object(f.a)(t.results)),e.next=4;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(a(104),a(2)),v=function(e){var t=e.selectedCharacter,a=Object(c.useState)([]),n=Object(d.a)(a,2),r=n[0],s=n[1],o=function(){var e=Object(b.a)(j.a.mark((function e(){var a,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===[]){e.next=9;break}return e.next=3,Promise.all(t.films.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return a=e.sent,e.abrupt("return",Object(l.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent,e.next=6,Promise.all(t.vehicles.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return a=e.sent,e.abrupt("return",Object(l.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:c=e.sent,n=Object(l.a)(Object(l.a)({},t),{},{films:a,vehicles:c}),s(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t&&o()}),[t]),Object(O.jsxs)("div",{className:"DetailsCharacters",children:[Object(O.jsx)("h2",{children:"Details:"}),Object(O.jsx)(i.b,{className:"btn btn__close",type:"button",to:"/characters",children:"X"}),r.name?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Name: ".concat(r.name)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Height: ".concat(r.height)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Mass: ".concat(r.mass)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Hair color: ".concat(r.hair_color)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Skin color: ".concat(r.skin_color)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Eye color: ".concat(r.eye_color)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Birth year: ".concat(r.birth_year)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Gender: ".concat(r.gender)}),Object(O.jsx)("div",{className:"DetailsCharacters__info",children:"Home World: ".concat(t.homeworld.name)}),Object(O.jsxs)("div",{className:"DetailsCharacters__info",children:["Films: ",r.films?r.films.map((function(e){return Object(O.jsx)("div",{children:"".concat(e.title)},e.title)})):Object(O.jsx)("div",{children:"Loading"})]}),Object(O.jsxs)("div",{className:"DetailsCharacters__info",children:[t.vehicles.length>0&&Object(O.jsx)("span",{children:"Vehicles:"}),r.vehicles?r.vehicles.map((function(e){return Object(O.jsx)("div",{children:"".concat(e.name," - ").concat(e.model)},e.name)})):Object(O.jsx)("span",{children:"Loading"})]})]}):Object(O.jsx)("div",{children:"Loading"})]})},_=a(131),w=a(129),N=a(128),g=a(130),k=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(_.a,{children:[Object(O.jsx)(w.a,{active:!0,children:Object(O.jsx)(N.a,{children:"Loading"})}),Object(O.jsx)(g.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]})})},C=(a(112),a(113),function(e){var t=e.match,a=Object(c.useState)([]),n=Object(d.a)(a,2),r=n[0],o=n[1],u=Object(c.useState)(""),h=Object(d.a)(u,2),f=h[0],p=h[1],_=Object(c.useState)([]),w=Object(d.a)(_,2),N=w[0],g=w[1],C=Object(c.useState)(!1),y=Object(d.a)(C,2),D=y[0],L=y[1],S=t.params.characterName,E=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,x();case 3:t=e.sent,o(t),L(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Promise.all(r.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t.homeworld);case 2:return a=e.sent,e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{homeworld:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,g(t),L(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){E()}),[]),Object(c.useEffect)((function(){B()}),[r]),Object(O.jsxs)("div",{className:"CharactersList",children:[Object(O.jsx)("input",{type:"text",className:"search",placeholder:"Input character name",value:f,onChange:function(e){var t=e.target;return p(t.value)}}),Object(O.jsx)("h2",{className:"CharactersList__title",children:"Characters:"}),D?Object(O.jsx)(k,{}):Object(O.jsx)("ul",{className:"CharactersList__list",children:N.filter((function(e){return e.name.includes(f)})).map((function(e){var t=e.name,a=e.gender,c=e.homeworld,n=e.url;return Object(O.jsxs)("li",{className:"CharactersList__item",children:[Object(O.jsx)("div",{children:"Name: ".concat(t)}),Object(O.jsx)("div",{children:"Gender: ".concat(a)}),Object(O.jsx)("div",{children:"Home World: ".concat(c.name)}),Object(O.jsx)(i.b,{className:"btn",to:"/characters/".concat(t),name:t,children:"Show Details"})]},n)}))}),Object(O.jsx)(s.a,{path:"/characters/".concat(S),children:Object(O.jsx)(v,{selectedCharacter:N.find((function(e){return e.name===S}))})})]})}),y=(a(114),function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("header",{className:"App-header",children:[Object(O.jsxs)(s.a,{path:"/home",children:[Object(O.jsx)("button",{className:"btn",onClick:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&FB.logout((function(e){console.log("bye"),location.href="/star_wars/"}))}))},children:"Log out"}),Object(O.jsx)("h1",{className:"main_title",children:"Star Wars"}),Object(O.jsx)("nav",{className:"menu",children:Object(O.jsx)("ul",{children:Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{to:"/characters",className:"btn",children:"Characters"})})})})]}),Object(O.jsx)(s.a,{path:"/characters/:characterName?",component:C}),Object(O.jsx)(s.a,{path:"/",exact:!0,children:Object(O.jsx)(u.a,{appId:"856885485186770",autoLoad:!0,fields:"name,email,picture",callback:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&(location.href="/star_wars/#/home/")}))}})})]})})});r.a.render(Object(O.jsx)(i.a,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.e7971d87.chunk.js.map